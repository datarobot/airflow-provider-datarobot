# pipelineController configuration
buildDraftPRs: true

repositoryTasks:
  pr:
    phrase:
    change:
      - changedFilesRegex: '.*'
        script:
          - taskName: UnitTests
            definition: jenkins/unit_test.groovy
            environment:
              DEPLOY_ENV: DEV
            phase: 1
          - taskName: BuildAndPublish
            definition: jenkins/build_and_publish_testpypi.groovy
            environment:
              DEPLOY_ENV: jenkins/mlops/airflow_provider_datarobot/test-pypi
            phase: 2